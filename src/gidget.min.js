!function(e){"use strict";var t,n,i,o,r,s;t=function(){this.RouteEngine=i,this.DependencyResolver=r,this.compose=function(e,t){if(!e instanceof i)throw new Error("The routeEngine argument must be of type, GidgetRouteEngine");var n=new s(e,t);return n}},n=function(){this.get={},this.post={},this.put={},this.del={},this.any={}},i=function(e){var t,n;t={before:[],after:[],beforeRoute:{},afterRoute:{}},n={escapeRegExp:/[-[\]{}()+?.,\\^$|#\s]/g,namedParam:/:(\w+)/g,splatParam:/\*(\w+)/g,firstParam:/(:\w+)|(\*\w+)/,allParams:/(:|\*)\w+/g,extractHash:/^[^#]*(#.*)$/},this.get=e.get,this.post=e.post,this.put=e.put,this.del=e.del,this.any=e.any,this.start=e.start,this.navigate=e.navigate,this.pipelineRegistries=t,this.before=e.before||function(e){"function"==typeof e&&t.before.push(e)},this.after=e.after||function(e){"function"==typeof e&&t.after.push(e)},this.beforeRoute=e.beforeRoute||function(e,n){"function"==typeof n&&(t.beforeRoute[e]=n)},this.afterRoute=e.afterRoute||function(e,n){"function"==typeof n&&(t.afterRoute[e]=n)},this.parseRoute=function(e,t){var i,o,r,s;return e=String(e),r=e.match(n.allParams),s=null!=r?function(){var e,t,n;for(n=[],e=0,t=r.length;t>e;e++)o=r[e],n.push(o.substr(1));return n}():[],e=e.replace(n.escapeRegExp,"\\$&"),e=e.replace(n.namedParam,"([^/]+)"),e=e.replace(n.splatParam,"(.+?)"),i=t?"":"i",{expression:new RegExp("^"+e+"/?$",i),params:s,pattern:e}},this.getHash=function(){return String(location.hash).replace(n.extractHash,"$1")},this.executePipeline=function(e,t,n,i,o){var r;for(r=0;r<e.length;r++)e[r](t,n,i,o)}},o=function(e){this.GidgetRouteEngine=e.GidgetRouteEngine,this.GidgetModule=e.GidgetModule,this.pipelines=function(){return{before:this.GidgetRouteEngine.before,after:this.GidgetRouteEngine.after,beforeRoute:this.GidgetRouteEngine.beforeRoute,afterRoute:this.GidgetRouteEngine.afterRoute}},this.registerModule=e.registerModule},s=function(e,t){var i;i=function(t){if(!t instanceof n)throw new Error("registerModule arguments must be of type GidgetModule");var i,o,r,s,a,u=t.get,f=t.put,g=t.posts,h=t.dels,p=t.anys;for(i in u)u.hasOwnProperty(i)&&e.get(i,u[i]);for(o in f)f.hasOwnProperty(o)&&e.put(o,f[o]);for(r in g)g.hasOwnProperty(r)&&e.post(r,g[r]);for(s in h)h.hasOwnProperty(s)&&e.del(s,h[s]);for(a in p)p.hasOwnProperty(a)&&e.get(a,p[a])},"function"==typeof t&&t(new o({GidgetRouteEngine:e,GidgetModule:n,registerModule:i}))},e.Gidget=t}("object"==typeof exports?exports:window);